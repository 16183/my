{"version":3,"sources":["ZombiePreview.js","ZombieCard.js","MyWeb3.js","ZombieAttack.js","ZombieDetail.js","ZombieArmy.js","MyZombie.js","ZombieMarket.js","ZombieToggler.js","ZombieSimulator.js","ContractAdmin.js","App.js","index.js"],"names":["ZombiePreview","props","state","zombie","_style","_className","nextProps","this","setState","undefined","filter","dna","substring","className","id","alt","src","style","Component","ZombieCard","name","level","MyWeb3","zombieCount","Promise","resolve","reject","window","MyContract","methods","call","then","zombies","zombieId","zombieToOwner","toLowerCase","getZombiesByOwner","defaultAccount","createZombie","_name","send","from","on","hash","console","log","transactionHash","confirmationNumber","receipt","location","reload","error","buyZombie","zombiePrice","value","attack","_zombieId","_targetId","changeName","feed","levelUp","levelUpFee","zombieFeedTimes","minPrice","web3","utils","fromWei","tax","saleMyZombie","_price","toWei","toString","result","zombieShop","shopInfo","price","getShopZombies","zombieIds","buyShopZombie","owner","symbol","checkBalance","balance","setAttackVictoryProbability","_attackVictoryProbability","setLevelUpFee","_fee","setMinPrice","_value","setZombiePrice","setTax","withdraw","res","EventNewZombie","events","NewZombie","fromBlock","toBlock","EventSaleZombie","SaleZombie","event","allEvents","event_changed","event_error","init","currentChainId","ethereum","networkVersion","contractAddress","3","4","5","42","5777","autoRefreshOnNetworkChange","that","enable","accounts","provider","currentProvider","Web3","setMaxListeners","currentContractAddress","eth","Contract","abi","catch","chainId","selectZombie","index","_active","active","prev_active","i","myZombies","length","buttonTxt","myZombie","myZombieId","URLSearchParams","search","get","targetId","targetZombie","modalDisplay","bind","zombieAttack","getZombie","getMyZombies","alert","_zombies","readyTime","moment","format","push","display","authenticated","lesson","lessonidx","map","item","key","onClick","Zombiedetail","myPrice","AttackBtn","RenameArea","zombieNewname","FeedArea","LevelupArea","SellArea","BuyArea","onShop","zombieChangeName","sellZombie","setPrice","getZombieFeedTimes","getMinPrice","getZombieShop","parseFloat","target","zombieOwner","to","pathname","type","placeholder","onChange","parseInt","winCount","lossCount","path","component","ZombieAttack","ZombieArmy","zombieArmy","ZombieDetail","MyZombie","zombieName","buyAreaDisp","createAreaDisp","txHashDisp","inputChange","input","ref","ZombieMarket","shopZombies","_shopZombies","ZombieToggler","handleChange","list","inputValue","replace","_list","title","min","max","ZombieSimulator","eye_color","skin","color","_id","ContractAdmin","contractOwner","ContractName","ContractSymbol","ContractBalance","attackVictoryProbability","inputAttackVictoryProbability","inputLevelUpFee","inputMinPrice","inputTax","inputZombiePrice","getContractName","getContractSymbol","_address","App","_pathname","split","AdminArea","basename","exact","require","EventEmitter","prototype","_maxListeners","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e7ffdd0d.chunk.js","sourcesContent":["import React,{Component} from 'react'\n\nclass ZombiePreview extends Component  {\n    constructor(props){\n        super(props)\n        this.state = { zombie:this.props.zombie,_style:this.props._style,_className:this.props._className}\n    }\n    UNSAFE_componentWillReceiveProps(nextProps){\n        if(nextProps!==this.props){\n            this.setState({ \n                zombie:nextProps.zombie,\n                _style:nextProps._style,\n                _className:nextProps._className,\n            })\n            return true\n        }else{\n            return false\n        }\n    }\n    render(){\n        var _style = this.state._style || []\n        var _className = this.state._className\n        if(this.state.zombie !== undefined){\n            _style['color'] = {filter:\"hue-rotate(0deg)\"}\n            _style['skin'] = {filter:\"hue-rotate(0deg)\"}\n            _style['eye_color'] = {filter:\"hue-rotate(0deg)\"}\n            _className = \"zombie-parts head-visible-1 eye-visible-1 shirt-visible-1\"\n            if(this.state.zombie.dna !== undefined){\n                var dna = this.state.zombie.dna\n                var _head = dna.substring(0,2) % 8 +1\n                var _eye = dna.substring(2,4) % 11 +1\n                var _shirt = dna.substring(4,6) % 6 +1\n                _className = \"zombie-parts head-visible-\"+_head+\" eye-visible-\"+_eye+\" shirt-visible-\"+_shirt\n                _style['color'] = {filter:\"hue-rotate(\"+dna.substring(6,9) % 360 +1+\"deg)\"}\n                _style['skin'] = {filter:\"hue-rotate(\"+dna.substring(9,12) % 360 +1+\"deg)\"}\n                _style['eye_color'] = {filter:\"hue-rotate(\"+dna.substring(12,15) % 360+\"deg)\"}\n            }\n        }\n        return (\n                    <div className={_className} id=\"zombie-parts\">\n                        {/* <img alt=\"\" src=\"./catlegs.png\" className=\"cat-legs\" style={{filter:\"hue-rotate(0deg); display: none\"}}/> */}\n                        <img alt=\"\" src=\"./right-upper-arm-1@2x.png\" className=\"right-upper-arm\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./torso-1@2x.png\" className=\"torso\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./left-feet-1@2x.png\" className=\"left-feet\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./right-feet-1@2x.png\" className=\"right-feet\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./left-leg-1@2x.png\" className=\"left-leg\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./right-leg-1@2x.png\" className=\"right-leg\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./left-thigh-1@2x.png\" className=\"left-thigh\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./right-thigh-1@2x.png\" className=\"right-thigh\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./shirt-1@2x.png\" className=\"shirt shirt-part-1\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./shirt-2@2x.png\" className=\"shirt shirt-part-2\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./shirt-3@2x.png\" className=\"shirt shirt-part-3\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./shirt-4@2x.png\" className=\"shirt shirt-part-4\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./shirt-5@2x.png\" className=\"shirt shirt-part-5\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./shirt-6@2x.png\" className=\"shirt shirt-part-6\" style={_style['color']}/>\n                        <img alt=\"\" src=\"./head-1@2x.png\" className=\"head head-part-1\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-2@2x.png\" className=\"head head-part-2\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-3@2x.png\" className=\"head head-part-3\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-4@2x.png\" className=\"head head-part-4\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-5@2x.png\" className=\"head head-part-5\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-6@2x.png\" className=\"head head-part-6\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-7@2x.png\" className=\"head head-part-7\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-8@2x.png\" className=\"head head-part-8\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./right-forearm-1@2x.png\" className=\"right-forearm\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./left-upper-arm-1@2x.png\" className=\"left-upper-arm\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./hand1-1@2x.png\" className=\"left-hand\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./hand-2-1@2x.png\" className=\"right-hand\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./left-forearm-1@2x.png\" className=\"left-forearm\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./eyes-1@2x.png\" className=\"eye eye-part-1\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-2@2x.png\" className=\"eye eye-part-2\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-3@2x.png\" className=\"eye eye-part-3\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-4@2x.png\" className=\"eye eye-part-4\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-5@2x.png\" className=\"eye eye-part-5\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-6@2x.png\" className=\"eye eye-part-6\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-7@2x.png\" className=\"eye eye-part-7\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-8@2x.png\" className=\"eye eye-part-8\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-9@2x.png\" className=\"eye eye-part-9\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-10@2x.png\" className=\"eye eye-part-10\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./eyes-11@2x.png\" className=\"eye eye-part-11\" style={_style['eye_color']}/>\n                        <img alt=\"\" src=\"./mouth-1@2x.png\" className=\"mouth\"/>\n                    </div>\n        );\n      }\n    }\n    \n    \nexport default ZombiePreview;\n","import React, { Component } from 'react';\r\nimport ZombiePreview from \"./ZombiePreview\"\r\n\r\nclass ZombieCard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { zombie:this.props.zombie,name:this.props.name,level:this.props.level}\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps){\r\n        if(nextProps!==this.props){\r\n            this.setState({ _className:nextProps._className,_style:nextProps._style})\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    render() { \r\n        return ( \r\n            <div className=\"game-card home-card selectable\">\r\n                <div className=\"zombie-char\">\r\n                <ZombiePreview zombie={this.state.zombie}></ZombiePreview>\r\n                    <div className=\"zombie-card card bg-shaded\">\r\n                        <div className=\"card-header bg-dark hide-overflow-text\">\r\n                            <strong>{this.state.name}</strong>\r\n                        </div>\r\n                        <small className=\"hide-overflow-text\">CryptoZombie{this.state.level}级</small>\r\n                    </div>\r\n                </div>\r\n            </div>            \r\n        )\r\n    }\r\n}\r\n \r\nexport default ZombieCard;","import Web3 from \"web3\";\r\nimport abi from './ZombieCore.json'\r\n\r\nconst MyWeb3 ={\r\n    zombieCount() {\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombieCount().call().then(function(zombieCount) {\r\n                resolve(zombieCount)\r\n            })\r\n        })\r\n    },\r\n    zombies(zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            if(zombieId>=0){\r\n                window.MyContract.methods.zombies(zombieId).call().then(function(zombies) {\r\n                    resolve(zombies)\r\n                })\r\n            }\r\n        })\r\n    },\r\n    zombieToOwner(zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            if(zombieId>=0){\r\n                window.MyContract.methods.zombieToOwner(zombieId).call().then(function(zombies) {\r\n                    resolve(zombies.toLowerCase())\r\n                })\r\n            }\r\n        })\r\n    },\r\n    getZombiesByOwner(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.getZombiesByOwner(window.defaultAccount).call().then(function(zombies) {\r\n                resolve(zombies)\r\n            })\r\n        })\r\n    },\r\n    createZombie(_name){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.createZombie(_name).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(hash){\r\n                console.log({transactionHash:hash})\r\n                resolve({transactionHash:hash})\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n            // .then(function(receipt){\r\n            //     //console.log({receipt:receipt})\r\n            //     resolve(receipt)\r\n            // })\r\n        })\r\n    },\r\n    buyZombie(_name){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombiePrice().call().then(function(zombiePrice) {\r\n                window.MyContract.methods.buyZombie(_name).send({from:window.defaultAccount,value:zombiePrice})\r\n                .on('transactionHash', function(hash){\r\n                    console.log({transactionHash:hash})\r\n                    resolve({transactionHash:hash})\r\n                })\r\n                .on('confirmation', function(confirmationNumber, receipt){\r\n                    console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n                })\r\n                .on('receipt', function(receipt){\r\n                    console.log({receipt:receipt})\r\n                    window.location.reload()\r\n                })\r\n                .on('error', function(error,receipt){\r\n                    console.log({error:error,receipt:receipt})\r\n                    reject({error:error,receipt:receipt})\r\n                })\r\n                // .then(function(receipt){\r\n                //     //console.log({receipt:receipt})\r\n                //     resolve(receipt)\r\n                // })\r\n            })\r\n        })\r\n    },\r\n    attack(_zombieId,_targetId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.attack(_zombieId,_targetId).send({from:window.defaultAccount})\r\n            .then(function(receipt){\r\n                //console.log({receipt:receipt})\r\n                resolve(receipt)\r\n            })\r\n        })\r\n    },\r\n    changeName(_zombieId,_name){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.changeName(_zombieId,_name).send({from:window.defaultAccount})\r\n            .then(function(receipt){\r\n                //console.log({receipt:receipt})\r\n                resolve(receipt)\r\n            })\r\n        })\r\n    },\r\n    feed(_zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.feed(_zombieId).send({from:window.defaultAccount})\r\n            .then(function(receipt){\r\n                //console.log({receipt:receipt})\r\n                resolve(receipt)\r\n            })\r\n        })\r\n    },\r\n    levelUp(_zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.levelUpFee().call().then(function(levelUpFee) {\r\n                window.MyContract.methods.levelUp(_zombieId).send({from:window.defaultAccount,value:levelUpFee})\r\n                .then(function(receipt){\r\n                    //console.log({receipt:receipt})\r\n                    resolve(receipt)\r\n                })\r\n            })\r\n        })\r\n    },\r\n    zombieFeedTimes(_zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombieFeedTimes(_zombieId).call().then(function(zombieFeedTimes) {\r\n                resolve(zombieFeedTimes)\r\n            })\r\n        })\r\n    },\r\n    minPrice(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.minPrice().call().then(function(minPrice) {\r\n                resolve(window.web3.utils.fromWei(minPrice,'ether'))\r\n            })\r\n        })\r\n    },\r\n    tax(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.tax().call().then(function(tax) {\r\n                resolve(window.web3.utils.fromWei(tax,'ether'))\r\n            })\r\n        })\r\n    },\r\n    saleMyZombie(_zombieId,_price){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.saleMyZombie(_zombieId,window.web3.utils.toWei(_price.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    zombieShop(_zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombieShop(_zombieId).call().then(function(shopInfo) {\r\n                shopInfo.price = window.web3.utils.fromWei(shopInfo.price,'ether')\r\n                resolve(shopInfo)\r\n            })\r\n        })\r\n    },\r\n    getShopZombies(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.getShopZombies().call().then(function(zombieIds) {\r\n                resolve(zombieIds)\r\n            })\r\n        })\r\n    },\r\n    buyShopZombie(_zombieId,_price){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.buyShopZombie(_zombieId).send({from:window.defaultAccount,value:window.web3.utils.toWei(_price.toString())})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n\r\n    owner(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.owner().call().then(function(owner) {\r\n                resolve(owner.toLowerCase())\r\n            })\r\n        })\r\n    },\r\n    name(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.name().call().then(function(name) {\r\n                resolve(name)\r\n            })\r\n        })\r\n    },\r\n    symbol(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.symbol().call().then(function(symbol) {\r\n                resolve(symbol)\r\n            })\r\n        })\r\n    },\r\n    checkBalance(){\r\n        return new Promise((resolve, reject) => {\r\n            this.owner().then(function (owner) {\r\n                if(window.defaultAccount === owner){\r\n                    window.MyContract.methods.checkBalance().call({from:window.defaultAccount}).then(function(balance) {\r\n                        resolve(window.web3.utils.fromWei(balance,'ether'))\r\n                    })\r\n                }else{\r\n                    reject('You are not contract owner')\r\n                }\r\n            })\r\n        })\r\n    },\r\n    setAttackVictoryProbability(_attackVictoryProbability){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setAttackVictoryProbability(_attackVictoryProbability).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    levelUpFee(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.levelUpFee().call().then(function(levelUpFee) {\r\n                resolve(window.web3.utils.fromWei(levelUpFee,'ether'))\r\n            })\r\n        })\r\n    },\r\n    setLevelUpFee(_fee){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setLevelUpFee(window.web3.utils.toWei(_fee.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    setMinPrice(_value){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setMinPrice(window.web3.utils.toWei(_value.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    zombiePrice(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombiePrice().call().then(function(zombiePrice) {\r\n                resolve(window.web3.utils.fromWei(zombiePrice,'ether'))\r\n            })\r\n        })\r\n    },\r\n    setZombiePrice(_value){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setZombiePrice(window.web3.utils.toWei(_value.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    setTax(_value){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setTax(window.web3.utils.toWei(_value.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    withdraw(){\r\n        return new Promise((resolve, reject) => {\r\n            this.owner().then(function (owner) {\r\n                if(window.defaultAccount === owner){\r\n                    window.MyContract.methods.withdraw().send({from:window.defaultAccount}).then(function(res) {\r\n                        resolve(res)\r\n                    })\r\n                }else{\r\n                    reject('You are not contract owner')\r\n                }\r\n            })\r\n        })\r\n    },\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    EventNewZombie(){\r\n        return window.MyContract.events.NewZombie({},{fromBlock: 0, toBlock: 'latest'})\r\n    },\r\n    EventSaleZombie(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.events.SaleZombie({fromBlock: 0, toBlock: 'latest'},function (error, event) {\r\n                resolve(event)\r\n            })\r\n        })\r\n    },\r\n\r\n    allEvents(){\r\n        window.MyContract.events.allEvents({fromBlock: 0}, function(error, event){\r\n            console.log({allEvents:event})\r\n        //}).on(\"connected\", function(subscriptionId){\r\n        //    console.log({connected_subscriptionId:subscriptionId})\r\n        //}).on('data', function(event){\r\n        //    console.log({event_data:event})\r\n        }).on('changed', function(event){\r\n            console.log({event_changed:event})\r\n        }).on('error', function(error, receipt) { \r\n            console.log({event_error:error,receipt:receipt})\r\n        })\r\n    },\r\n    init() {\r\n        /*\r\n        '1': Ethereum Main Network\r\n        '2': Morden Test network\r\n        '3': Ropsten Test Network\r\n        '4': Rinkeby Test Network\r\n        '5': Goerli Test Network\r\n        '42': Kovan Test Network\r\n        */\r\n        return new Promise((resolve, reject) => {\r\n            //let currentChainId = parseInt(window.ethereum.chainId, 16)\r\n            let currentChainId = window.ethereum.networkVersion\r\n            let ethereum = window.ethereum\r\n            let contractAddress = {\r\n                3:'0x1a3cA7AbE6370D33986b2D2aC6F1F9A656f87b4D',\r\n                4:'0xbca6885699Ee9ae9B2255538B5a3EfB3082bE5ac',\r\n                5:'0x6817c8475Ad33Aa86422160C3d1C673c453A76dE',\r\n                42:'0x6817c8475Ad33Aa86422160C3d1C673c453A76dE',\r\n                5777:'0x8b11Af05bdBB4848b59f2C3A5Bf3E2BB24c744fD',\r\n            }\r\n            ethereum.autoRefreshOnNetworkChange = false\r\n            let that = this\r\n            ethereum.enable().then(function (accounts) {\r\n                let provider = window['ethereum'] || window.web3.currentProvider\r\n                window.web3 = new Web3(provider)\r\n                window.web3.currentProvider.setMaxListeners(300)\r\n                let currentContractAddress = contractAddress[currentChainId]\r\n                if(currentContractAddress !== undefined){\r\n                    window.MyContract = new window.web3.eth.Contract(abi.abi,currentContractAddress)\r\n                    window.defaultAccount = accounts[0].toLowerCase()\r\n                    //that.allEvents(window.MyContract)\r\n                    resolve(true)\r\n                }else{\r\n                    reject('Unknow Your ChainId:'+currentChainId)\r\n                }\r\n            }).catch(function (error) {\r\n                console.log(error)\r\n            })\r\n            ethereum.on('accountsChanged', function (accounts) {\r\n                console.log(\"accountsChanged:\"+accounts)\r\n                window.location.reload()\r\n                that.init()\r\n            })\r\n            ethereum.on('chainChanged', function (chainId) {\r\n                console.log(\"chainChanged:\"+chainId)\r\n                window.location.reload()\r\n                that.init()\r\n            })\r\n            ethereum.on('networkChanged', function (networkVersion) {\r\n                console.log(\"networkChanged:\"+networkVersion)\r\n                window.location.reload()\r\n                that.init()\r\n            })\r\n        })\r\n    }\r\n}\r\n    \r\nexport default MyWeb3;","import React, { Component } from 'react';\r\nimport MyWeb3 from './MyWeb3'\r\nimport ZombiePreview from \"./ZombiePreview\"\r\nimport '../public/ZombiePreview.css'\r\nimport moment from \"moment\"\r\n\r\nclass NewZombie extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const searchParams = new URLSearchParams(this.props.location.search)\r\n        const id = searchParams.get('id')   \r\n        this.state = {\r\n            targetId:id ,\r\n            targetZombie:{},\r\n            myZombies:[],\r\n            myZombie:{},\r\n            myZombieId:'',\r\n            active: {},\r\n            buttonTxt:'',\r\n            modalDisplay:'none'\r\n        }\r\n        this.selectZombie = this.selectZombie.bind(this)\r\n        this.zombieAttack = this.zombieAttack.bind(this)\r\n    }\r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.getZombie(that.state.targetId)\r\n                that.getMyZombies()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    \r\n    getZombie(zombieId){\r\n        let that = this\r\n        MyWeb3.zombies(zombieId).then(function (result) {\r\n            that.setState({targetZombie:result})\r\n        })\r\n    }\r\n    getMyZombies(){\r\n        let that = this\r\n        MyWeb3.getZombiesByOwner().then(function(zombies){\r\n            if(zombies.length > 0){\r\n                for(let i=0;i<zombies.length;i++){\r\n                    MyWeb3.zombies(zombies[i]).then(function (result) {\r\n                        let _zombies = that.state.myZombies\r\n                        result.zombieId = zombies[i]\r\n                        if(result.readyTime === 0 || moment().format('X')>result.readyTime){\r\n                            _zombies.push(result)\r\n                        }\r\n                        that.setState({myZombies:_zombies})\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    selectZombie = index => {\r\n        var _active = this.state.active\r\n        var prev_active = _active[index]\r\n        for(var i=0;i<this.state.myZombies.length;i++){\r\n            _active[i] = 0\r\n        }\r\n        _active[index] = prev_active === 0 || prev_active === undefined ? 1 : 0\r\n        this.setState({\r\n            active:_active,buttonTxt:'用'+this.state.myZombies[index].name,\r\n            myZombie:this.state.myZombies[index],\r\n            myZombieId:this.state.myZombies[index].zombieId\r\n        })\r\n    }\r\n\r\n    zombieAttack(){\r\n        if(this.state.myZombie !== undefined){\r\n            this.setState({modalDisplay:''})\r\n            MyWeb3.attack(this.state.myZombieId,this.state.targetId).then(function(receipt){\r\n                console.log(receipt)\r\n                window.location.reload()\r\n            })\r\n        }\r\n    }\r\n    render() { \r\n        if(this.state.myZombies.length>0) {\r\n            return ( \r\n                <div className=\"App zombie-attack\">\r\n                <div\r\n                    className=\"modal\"\r\n                    style={{\r\n                        display:this.state.modalDisplay\r\n                    }}\r\n                >\r\n                    <div className='battelArea'>\r\n                        <div className='targetZombie'>\r\n                            <ZombiePreview zombie={this.state.targetZombie}></ZombiePreview>\r\n                        </div>\r\n                        <div className='vs'>\r\n                            VS\r\n                        </div>\r\n                        <div className='myZombie'>\r\n                            <ZombiePreview zombie={this.state.myZombie}></ZombiePreview>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                    <div  className=\"row zombie-parts-bin-component\" authenticated=\"true\" lesson=\"1\" lessonidx=\"1\">\r\n                        <div  className=\"game-card home-card target-card\" >\r\n                            <div className=\"zombie-char\">\r\n                                <ZombiePreview zombie={this.state.targetZombie}></ZombiePreview>\r\n                                <div className=\"hide\">\r\n                                    <div className=\"card-header bg-dark hide-overflow-text\">\r\n                                        <strong ></strong></div>\r\n                                    <small className=\"hide-overflow-text\">CryptoZombie第一级</small>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"zombie-detail\">\r\n                            <div className=\"flex\">\r\n                                {this.state.myZombies.map((item,index)=>{\r\n                                    var name = item.name\r\n                                    var level = item.level\r\n                                    return(\r\n                                        <div className=\"game-card home-card selectable\" key={index} active={this.state.active[index] || 0} onClick={() => this.selectZombie(index)} >\r\n                                            <div className=\"zombie-char\">\r\n                                            <ZombiePreview zombie={item}></ZombiePreview>\r\n                                                <div className=\"zombie-card card bg-shaded\">\r\n                                                    <div className=\"card-header bg-dark hide-overflow-text\">\r\n                                                        <strong>{name}</strong>\r\n                                                    </div>\r\n                                                    <small className=\"hide-overflow-text\">CryptoZombie{level}级</small>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>  \r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            <button className=\"attack-btn\" onClick={this.zombieAttack}>\r\n                                <span>\r\n                                    {this.state.buttonTxt}干它！\r\n                                </span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else{\r\n            return(\r\n                <div>没有能干它的僵尸</div>\r\n            )\r\n        }\r\n    }\r\n}\r\n \r\nexport default NewZombie;","import React, { Component } from 'react'\r\nimport ZombiePreview from \"./ZombiePreview\"\r\nimport '../public/ZombiePreview.css'\r\nimport MyWeb3 from './MyWeb3'\r\nimport moment from \"moment\"\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\n  import ZombieAttack from \"./ZombieAttack\";\r\n\r\nclass Zombiedetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const searchParams = new URLSearchParams(this.props.location.search)\r\n        \r\n        const id = searchParams.get('id')   \r\n        this.state = {\r\n            id:id ,\r\n            zombie:{},owner:'',\r\n            zombieFeedTimes:0,\r\n            myPrice:0,\r\n            minPrice:0,\r\n            AttackBtn: () =>{return(<div></div>)}, \r\n            RenameArea: () =>{return(<div></div>)},\r\n            zombieNewname:'',\r\n            FeedArea: () =>{return(<div></div>)},\r\n            LevelupArea: () =>{return(<div></div>)},\r\n            SellArea: () =>{return(<div></div>)},\r\n            BuyArea: () =>{return(<div></div>)},\r\n            onShop:false,\r\n            shopInfo:{}\r\n        }\r\n        this.zombieChangeName = this.zombieChangeName.bind(this)\r\n        this.changeName = this.changeName.bind(this)\r\n        this.feed = this.feed.bind(this)\r\n        this.levelUp = this.levelUp.bind(this)\r\n        this.sellZombie = this.sellZombie.bind(this)\r\n        this.buyShopZombie = this.buyShopZombie.bind(this)\r\n        this.setPrice = this.setPrice.bind(this)\r\n    }\r\n     \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.getZombie(that.state.id)\r\n                that.getZombieFeedTimes(that.state.id)\r\n                that.getMinPrice()\r\n                that.getZombieShop(that.state.id)\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    getZombieShop(zombieId){\r\n        let that = this\r\n        MyWeb3.zombieShop(zombieId).then(function (shopInfo) {\r\n            if(shopInfo.price>0){\r\n                that.setState({onShop:true,shopInfo:shopInfo})\r\n            }\r\n        })\r\n    }\r\n    getMinPrice(){\r\n        let that = this\r\n        MyWeb3.minPrice().then(function (minPrice) {\r\n            if(minPrice>0){\r\n                MyWeb3.tax().then(function (tax) {\r\n                    if(tax>0){\r\n                        that.setState({myPrice:parseFloat(minPrice)+parseFloat(tax),minPrice:parseFloat(minPrice)+parseFloat(tax)})\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n    getZombieFeedTimes(zombieId){\r\n        let that = this\r\n        MyWeb3.zombieFeedTimes(zombieId).then(function (result) {\r\n            if(result>0){\r\n                that.setState({zombieFeedTimes:result})\r\n            }\r\n        })\r\n    }\r\n    setPrice(event){\r\n        this.setState({\r\n            myPrice:event.target.value\r\n        })\r\n    }\r\n    zombieChangeName(event){\r\n        this.setState({\r\n            zombieNewname:event.target.value\r\n        })\r\n    }\r\n    changeName(){\r\n        if(window.defaultAccount !== undefined){\r\n            MyWeb3.changeName(this.state.id,this.state.zombieNewname).then(function(receipt){\r\n                console.log(receipt)\r\n                window.location.reload()\r\n            })\r\n        }\r\n    }\r\n    feed(){\r\n        if(window.defaultAccount !== undefined){\r\n            MyWeb3.feed(this.state.id).then(function(receipt){\r\n                console.log(receipt)\r\n                window.location.reload()\r\n            })\r\n        }\r\n    }\r\n    levelUp(){\r\n        if(window.defaultAccount !== undefined){\r\n            MyWeb3.levelUp(this.state.id).then(function(receipt){\r\n                console.log(receipt)\r\n                window.location.reload()\r\n            })\r\n        }\r\n    }\r\n    sellZombie(){\r\n        if(window.defaultAccount !== undefined \r\n            && this.state.myPrice*this.state.minPrice>0 \r\n            && this.state.myPrice>=this.state.minPrice){\r\n            MyWeb3.saleMyZombie(this.state.id,this.state.myPrice).then(function(receipt){\r\n                console.log(receipt)\r\n                window.location.reload()\r\n            })\r\n        }\r\n    }\r\n    buyShopZombie(){\r\n        if(window.defaultAccount !== undefined){\r\n            MyWeb3.buyShopZombie(this.state.id,this.state.shopInfo.price).then(function(receipt){\r\n                console.log(receipt)\r\n                window.location.reload()\r\n            })\r\n        }\r\n    }\r\n    getZombie(zombieId){\r\n        let that = this\r\n        MyWeb3.zombies(zombieId).then(function (result) {\r\n            that.setState({zombie:result})\r\n            that.setState({zombieNewname:result.name})\r\n            MyWeb3.zombieToOwner(zombieId).then(function (zombieOwner) {\r\n                that.setState({owner:zombieOwner})\r\n                if(window.defaultAccount !== undefined &&\r\n                    zombieOwner !== window.defaultAccount){\r\n                    that.setState({AttackBtn : () =>{\r\n                        return(\r\n                        <button className=\"attack-btn\">\r\n                            <span>\r\n                                <Link to={{pathname:\"./ZombieAttack\",search:\"?id=\"+that.state.id}} >发起挑战</Link>\r\n                            </span>\r\n                        </button>)\r\n                        }\r\n                    })\r\n                    if(that.state.onShop){\r\n                        that.setState({BuyArea : () =>{\r\n                            return(\r\n                                <div>\r\n                                    <div className='zombieInput'>\r\n                                        售价：{that.state.shopInfo.price} ether\r\n                                    </div>\r\n                                    <div>\r\n                                        <button className=\"pay-btn pay-btn-last\" onClick={that.buyShopZombie}>\r\n                                            <span>\r\n                                                买下它\r\n                                            </span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                }else{\r\n                    that.setState({AttackBtn : () =>{return(<div></div>)}})\r\n                    if(that.state.zombie.level > 1){\r\n                        that.setState({RenameArea : () =>{\r\n                            return(\r\n                                <div>\r\n                                    <div className='zombieInput'>\r\n                                        <input \r\n                                            type=\"text\" \r\n                                            id='zombieName' \r\n                                            placeholder={that.state.zombie.name} \r\n                                            value={that.state.zombieNewname}\r\n                                            onChange={that.zombieChangeName}>\r\n                                        </input>\r\n                                    </div>\r\n                                    <div>\r\n                                        <button className=\"pay-btn pay-btn-last\" onClick={that.changeName}>\r\n                                            <span>\r\n                                                改个名字\r\n                                            </span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>)\r\n                            }\r\n                        })\r\n                    }\r\n                    if(that.state.zombie.readyTime === 0 || moment().format('X')>that.state.zombie.readyTime){\r\n                        that.setState({FeedArea : () =>{\r\n                            return(\r\n                                <div>\r\n                                    <button className=\"pay-btn\" onClick={that.feed}>\r\n                                        <span>\r\n                                            喂食一次\r\n                                        </span>\r\n                                    </button>\r\n                                </div>)\r\n                            }\r\n                        })\r\n                    }\r\n                    that.setState({LevelupArea : () =>{\r\n                        return(\r\n                            <div>\r\n                                <button className=\"pay-btn\" onClick={that.levelUp}>\r\n                                    <span>\r\n                                        付费升级\r\n                                    </span>\r\n                                </button>\r\n                            </div>)\r\n                        }\r\n                    })\r\n                    if(!that.state.onShop){\r\n                        that.setState({SellArea : () =>{\r\n                            return(\r\n                                <div>\r\n                                    <div className='zombieInput'>\r\n                                        <input \r\n                                            type=\"text\" \r\n                                            id='sellPrice' \r\n                                            placeholder={that.state.minPrice} \r\n                                            value={that.state.myPrice}\r\n                                            onChange={that.setPrice}>\r\n                                        </input>\r\n                                    </div>\r\n                                    <div>\r\n                                        <button className=\"pay-btn pay-btn-last\" onClick={that.sellZombie}>\r\n                                            <span>\r\n                                                卖了它\r\n                                            </span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                } \r\n            })\r\n        })\r\n    }\r\n\r\n    render() { \r\n        var readyTime = '已冷却'                                \r\n        if(this.state.zombie.readyTime !== undefined && moment().format('X')<this.state.zombie.readyTime){\r\n            readyTime = moment(parseInt(this.state.zombie.readyTime)*1000).format('YYYY-MM-DD')\r\n        }\r\n        var AttackBtn = this.state.AttackBtn\r\n        var RenameArea = this.state.RenameArea\r\n        var FeedArea = this.state.FeedArea\r\n        var LevelupArea = this.state.LevelupArea\r\n        var SellArea = this.state.SellArea\r\n        var BuyArea = this.state.BuyArea\r\n        return ( \r\n            <div className=\"App\">\r\n                <div  className=\"row zombie-parts-bin-component\" authenticated=\"true\" lesson=\"1\" lessonidx=\"1\">\r\n                    <div  className=\"zombie-preview\" id=\"zombie-preview\">\r\n                        <div className=\"zombie-char\">\r\n                            <div className=\"zombie-loading zombie-parts\" style={{display:\"none\"}}></div>\r\n                                <ZombiePreview zombie={this.state.zombie}></ZombiePreview>\r\n                            <div className=\"hide\">\r\n                                <div className=\"card-header bg-dark hide-overflow-text\">\r\n                                    <strong ></strong></div>\r\n                                <small className=\"hide-overflow-text\">CryptoZombie第一级</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"zombie-detail\">\r\n                        <dl>\r\n                            <dt>{this.state.zombie.name}</dt>\r\n                            <dt>主人</dt>\r\n                            <dd>{this.state.owner}</dd>\r\n                            <dt>等级</dt>\r\n                            <dd>{this.state.zombie.level}</dd>\r\n                            <dt>胜利次数</dt>\r\n                            <dd>{this.state.zombie.winCount}</dd>\r\n                            <dt>失败次数</dt>\r\n                            <dd>{this.state.zombie.lossCount}</dd>\r\n                            <dt>冷却时间</dt>\r\n                            <dd>{readyTime}</dd>\r\n                            <dt>喂食次数</dt>\r\n                            <dd>{this.state.zombieFeedTimes}</dd>\r\n                            <dt></dt>\r\n                            <dd>\r\n                                <AttackBtn></AttackBtn>\r\n                                <RenameArea></RenameArea>\r\n                                <FeedArea></FeedArea>\r\n                                <LevelupArea></LevelupArea>\r\n                                <SellArea></SellArea>\r\n                                <BuyArea></BuyArea>\r\n                            </dd>\r\n                        </dl>\r\n                    </div>\r\n                    <Route path=\"/ZombieAttack\" component={ZombieAttack}></Route>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Zombiedetail;","import React, { Component } from 'react'\r\nimport ZombieCard from \"./ZombieCard\";\r\nimport '../public/ZombiePreview.css';\r\nimport MyWeb3 from './MyWeb3'\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\nimport ZombieDetail from \"./ZombieDetail\";\r\n\r\nclass ZombieArmy extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { zombieCount:\"\",zombies:[] }\r\n    }\r\n        \r\n    componentDidMount(){\r\n        //console.log(window.web3._extend.utils)\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.zombieArmy()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    zombieArmy(){\r\n        let that = this\r\n        MyWeb3.zombieCount().then(function(result){\r\n            if(result > 0){\r\n                for(let i=0;i<result;i++){\r\n                    MyWeb3.zombies(i).then(function (result) {\r\n                        let _zombies = that.state.zombies\r\n                        result.zombieId = i\r\n                        _zombies.push(result);\r\n                        that.setState({zombies:_zombies})\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n    render() { \r\n        if(this.state.zombies.length>0) {\r\n            return ( \r\n                <div className=\"cards\">\r\n                    {this.state.zombies.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={{pathname:\"./ZombieDetail\",search:\"?id=\"+item.zombieId}} key={index}>\r\n                                <ZombieCard zombie={item} name={name} level={level} key={index}></ZombieCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"/ZombieDetail\" component={ZombieDetail}></Route>\r\n                </div> \r\n            )\r\n        }else{\r\n            return ( <div></div>)\r\n        }\r\n    }\r\n}\r\n \r\nexport default ZombieArmy;","import React, { Component } from 'react'\r\nimport ZombieCard from \"./ZombieCard\";\r\nimport '../public/ZombiePreview.css';\r\nimport MyWeb3 from './MyWeb3'\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\nimport ZombieDetail from \"./ZombieDetail\";\r\n\r\nclass MyZombie extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {zombieCount:\"\",zombies:[],zombieName:'',transactionHash:'',buyAreaDisp:1,createAreaDisp:1,txHashDisp:0}\r\n        this.createZombie=this.createZombie.bind(this)\r\n        this.buyZombie=this.buyZombie.bind(this)\r\n        this.inputChange=this.inputChange.bind(this)\r\n    }\r\n        \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.myZombies()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    \r\n    myZombies(){\r\n        let that = this\r\n        MyWeb3.getZombiesByOwner().then(function(zombies){\r\n            if(zombies.length > 0){\r\n                for(let i=0;i<zombies.length;i++){\r\n                    MyWeb3.zombies(zombies[i]).then(function (result) {\r\n                        let _zombies = that.state.zombies\r\n                        result.zombieId = zombies[i]\r\n                        _zombies.push(result);\r\n                        that.setState({zombies:_zombies})\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    createZombie(){\r\n        let that = this\r\n        let _name = this.state.zombieName\r\n        MyWeb3.createZombie(_name).then(function(transactionHash){\r\n            that.setState({\r\n                transactionHash:transactionHash.transactionHash,\r\n                createAreaDisp:0,\r\n                txHashDisp:1\r\n            })\r\n            //console.log(result)\r\n        })\r\n    }\r\n    buyZombie(){\r\n        let that = this\r\n        let _name = this.state.zombieName\r\n        MyWeb3.buyZombie(_name).then(function(transactionHash){\r\n            that.setState({\r\n                transactionHash:transactionHash.transactionHash,\r\n                buyAreaDisp:0,\r\n                txHashDisp:1\r\n            })\r\n        })\r\n    }\r\n    inputChange(){\r\n        this.setState({\r\n            zombieName:this.input.value\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        if(this.state.zombies.length>0) {\r\n            return ( \r\n                <div className=\"cards\">\r\n                    {this.state.zombies.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={{pathname:\"./ZombieDetail\",search:\"?id=\"+item.zombieId}} key={index}>\r\n                                <ZombieCard zombie={item} name={name} level={level} key={index}></ZombieCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"/ZombieDetail\" component={ZombieDetail}></Route>\r\n                    <div className='buyArea' display={this.state.buyAreaDisp}>\r\n                        <div className='zombieInput'>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='zombieName' \r\n                                placeholder='给僵尸起个好名字' \r\n                                ref={(input)=>{this.input=input}} \r\n                                value={this.state.zombieName}\r\n                                onChange={this.inputChange}>\r\n                            </input>\r\n                        </div>\r\n                        <div>\r\n                            <button className=\"attack-btn\" onClick={this.buyZombie}>\r\n                                <span>\r\n                                    购买僵尸    \r\n                                </span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className='transactionHash' display={this.state.txHashDisp}>{this.state.transactionHash}<br></br>等待确认中...</div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(<div>\r\n                <div className='createArea' display={this.state.createAreaDisp}>\r\n                    <div className='zombieInput'>\r\n                        <input \r\n                            type=\"text\" \r\n                            id='zombieName' \r\n                            placeholder='给僵尸起个好名字' \r\n                            ref={(input)=>{this.input=input}} \r\n                            value={this.state.zombieName}\r\n                            onChange={this.inputChange}>\r\n                        </input>\r\n                    </div>\r\n                    <div>\r\n                        <button className=\"attack-btn\" onClick={this.createZombie}>\r\n                            <span>\r\n                                免费领养僵尸    \r\n                            </span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className='transactionHash' display={this.state.txHashDisp}>{this.state.transactionHash}<br></br>等待确认中...</div>\r\n            </div>)\r\n        }\r\n    }\r\n}  \r\nexport default MyZombie;","import React, { Component } from 'react';\r\nimport MyWeb3 from './MyWeb3'\r\nimport ZombieCard from \"./ZombieCard\";\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\nimport ZombieDetail from \"./ZombieDetail\";\r\n\r\nclass ZombieMarket extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {shopZombies:[]  }\r\n    }\r\n     \r\n    componentDidMount(){\r\n        //console.log(window.web3._extend.utils)\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.zombieShop()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n\r\n    zombieShop(){\r\n        let that = this\r\n        MyWeb3.getShopZombies().then(function(zombieIds){\r\n            if(zombieIds.length>0){\r\n                for(var i=0;i<zombieIds.length;i++){\r\n                    let zombieId = zombieIds[i]\r\n                    if(zombieId>=0){\r\n                        MyWeb3.zombies(zombieId).then(function(zombies) {\r\n                            let _shopZombies = that.state.shopZombies\r\n                            zombies.zombieId = zombieId\r\n                            _shopZombies.push(zombies);\r\n                            that.setState({shopZombies:_shopZombies})\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n    render() { \r\n        if(this.state.shopZombies.length>0) {\r\n            return ( \r\n                <div className=\"cards\">\r\n                    {this.state.shopZombies.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={{pathname:\"./ZombieDetail\",search:\"?id=\"+item.zombieId}} key={index}>\r\n                                <ZombieCard zombie={item} name={name} level={level} key={index}></ZombieCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"/ZombieDetail\" component={ZombieDetail}></Route>\r\n                </div> \r\n            )\r\n        }else{\r\n            return ( <div></div>)\r\n        }\r\n    }\r\n}\r\n \r\nexport default ZombieMarket;","import React,{Component,Fragment} from 'react'\n\n\nclass ZombieToggler extends Component  {\n    constructor(props){\n        super(props)\n        this.handleChange=this.handleChange.bind(this)\n        this.state = { list: [\n                {\n                    \"name\":\"head\",\n                    \"title\":\"头部基因\",\n                    \"max\":8\n                },{\n                    \"name\":\"eye\",\n                    \"title\":\"眼部基因\",\n                    \"max\":11\n                },{\n                    \"name\":\"shirt\",\n                    \"title\":\"上衣基因\",\n                    \"max\":6\n                },{\n                    \"name\":\"skin\",\n                    \"title\":\"皮肤颜色\",\n                    \"max\":360\n                },{\n                    \"name\":\"eye_color\",\n                    \"title\":\"眼睛颜色\",\n                    \"max\":360\n                },{\n                    \"name\":\"color\",\n                    \"title\":\"衣服颜色\",\n                    \"max\":360\n                }\n            ],inputValue:[]\n        }\n    }\n    handleChange(event){\n        var id = event.target.id.replace(/_select/,\"\")\n        var _list = this.state.inputValue\n        _list[id] = event.target.value;\n        this.setState({\n            inputValue:_list\n        })\n        this.props.handleChange(event);\n    }\n    render() {\n        return (\n            <div  className=\"zombie-toggle col mt-lg-5 pt-4\" id=\"zombie-toggle\">\n                <fieldset id=\"zombie-toggler\"  className=\"form-group col mt-lg-5 pt-lg-5\" >\n                    <div >\n                        {this.state.list.map((item,index)=>{\n                            return(<Fragment key={index}>\n                                <label>{item.title}:<code></code></label>\n                                <input  type=\"range\" min=\"1\" max={item.max} className=\"custom-range\" id={`${item.name}_select`} value={this.state.inputValue[item.name]||1}  onChange={this.handleChange}/>\n                                </Fragment>)\n                        })}            \n                    </div>\n                </fieldset>\n            </div>\n        );\n    }\n}\n\nexport default ZombieToggler;\n","import React,{Component} from 'react'\nimport '../public/ZombiePreview.css';\nimport  ZombiePreview  from \"./ZombiePreview\";\nimport  ZombieToggler  from \"./ZombieToggler\";\n\n\n\nclass ZombieSimulator extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            _value:{\n                \"head\":1,\n                \"eye\":1,\n                \"shirt\":1\n            },\n            _className:\"zombie-parts head-visible-1 eye-visible-1 shirt-visible-1\",\n            _style:{\n                eye_color:{filter:\"hue-rotate(0deg)\"},\n                skin:{filter:\"hue-rotate(0deg)\"},\n                color:{filter:\"hue-rotate(0deg)\"},\n            }\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n    \n    handleChange(event) {\n        var _id = event.target.id.replace(/_select/,\"\");\n\n        var _value = this.state._value\n        var _className = this.state._className\n        var _style = this.state._style\n        _value[_id] = event.target.value;\n\n        if(_id === \"head\" || _id === \"eye\" || _id === \"shirt\"){\n            _className = \"zombie-parts head-visible-\"+ _value[\"head\"] +\" eye-visible-\"+ _value[\"eye\"] +\" shirt-visible-\" + _value[\"shirt\"];\n        }else{\n            _style[_id] = {filter:\"hue-rotate(\"+_value[_id]+\"deg)\"}\n        }\n        this.setState({_className,_style,_value});\n    }\n    render() {\n        return  <div className=\"App\">\n        <div className=\"row zombie-parts-bin-component zombie-simulator\" authenticated=\"true\" lesson=\"1\" lessonidx=\"1\">\n            <div  className=\"zombie-preview\" id=\"zombie-preview\">\n                <div className=\"zombie-char\">\n                    <ZombiePreview _style={this.state._style} _className={this.state._className} _value={this.state._value}></ZombiePreview>\n                </div>\n            </div>\n            <ZombieToggler handleChange={this.handleChange}></ZombieToggler>\n        </div>\n    </div>;\n    }\n}\n\n\n\nexport default ZombieSimulator\n","import React, { Component } from 'react';\r\nimport MyWeb3 from './MyWeb3'\r\n\r\nclass ContractAdmin extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            contractAddress:'',\r\n            contractOwner:'',\r\n            ContractName:'',\r\n            ContractSymbol:'',\r\n            ContractBalance:'',\r\n            attackVictoryProbability:70,\r\n            levelUpFee:0,\r\n            minPrice:0,\r\n            tax:0,\r\n            zombiePrice:0\r\n        }\r\n        this.inputAttackVictoryProbability = this.inputAttackVictoryProbability.bind(this)\r\n        this.setAttackVictoryProbability = this.setAttackVictoryProbability.bind(this)\r\n        this.inputLevelUpFee = this.inputLevelUpFee.bind(this)\r\n        this.setLevelUpFee = this.setLevelUpFee.bind(this)\r\n        this.inputMinPrice = this.inputMinPrice.bind(this)\r\n        this.setMinPrice = this.setMinPrice.bind(this)\r\n        this.inputTax = this.inputTax.bind(this)\r\n        this.setTax = this.setTax.bind(this)\r\n        this.inputZombiePrice = this.inputZombiePrice.bind(this)\r\n        this.setZombiePrice = this.setZombiePrice.bind(this)\r\n        this.withdraw = this.withdraw.bind(this)\r\n    }\r\n    \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                // console.log(window.web3)\r\n                // console.log(ethereum)\r\n                // console.log(window.MyContract)\r\n                MyWeb3.owner().then(function (contractOwner) {\r\n                    if(window.defaultAccount === contractOwner){\r\n                        that.setState({contractOwner:contractOwner})\r\n                        that.getContractName()\r\n                        that.getContractSymbol()\r\n                        that.checkBalance()\r\n                        that.levelUpFee()\r\n                        that.minPrice()\r\n                        that.tax()\r\n                        that.zombiePrice()\r\n                        that.setState({\r\n                            contractAddress:window.MyContract._address\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    getContractName(){\r\n        let that = this\r\n        MyWeb3.name().then(function (name) {\r\n            that.setState({ContractName:name})\r\n        })\r\n    }\r\n    getContractSymbol(){\r\n        let that = this\r\n        MyWeb3.symbol().then(function (symbol) {\r\n            that.setState({ContractSymbol:symbol})\r\n        })\r\n    }\r\n    checkBalance(){\r\n        let that = this\r\n        MyWeb3.checkBalance().then(function (balance) {\r\n            that.setState({ContractBalance:balance})\r\n        })\r\n    }\r\n    withdraw(){\r\n        let that = this\r\n        MyWeb3.withdraw().then(function (res) {\r\n            that.checkBalance()\r\n        })\r\n    }\r\n    setAttackVictoryProbability(){\r\n        MyWeb3.setAttackVictoryProbability(this.state.attackVictoryProbability).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputAttackVictoryProbability(event){\r\n        this.setState({\r\n            attackVictoryProbability:event.target.value\r\n        })\r\n    }\r\n    levelUpFee(){\r\n        let that = this\r\n        MyWeb3.levelUpFee().then(function (levelUpFee) {\r\n            that.setState({levelUpFee:levelUpFee})\r\n        })\r\n    }\r\n    setLevelUpFee(){\r\n        MyWeb3.setLevelUpFee(this.state.levelUpFee).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputLevelUpFee(event){\r\n        this.setState({\r\n            levelUpFee:event.target.value\r\n        })\r\n    }\r\n    minPrice(){\r\n        let that = this\r\n        MyWeb3.minPrice().then(function (minPrice) {\r\n            that.setState({minPrice:minPrice})\r\n        })\r\n    }\r\n    setMinPrice(){\r\n        MyWeb3.setMinPrice(this.state.minPrice).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputMinPrice(event){\r\n        this.setState({\r\n            minPrice:event.target.value\r\n        })\r\n    }\r\n    tax(){\r\n        let that = this\r\n        MyWeb3.tax().then(function (tax) {\r\n            that.setState({tax:tax})\r\n        })\r\n    }\r\n    setTax(){\r\n        MyWeb3.setTax(this.state.tax).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputTax(event){\r\n        this.setState({\r\n            tax:event.target.value\r\n        })\r\n    }\r\n    zombiePrice(){\r\n        let that = this\r\n        MyWeb3.zombiePrice().then(function (zombiePrice) {\r\n            that.setState({zombiePrice:zombiePrice})\r\n        })\r\n    }\r\n    setZombiePrice(){\r\n        MyWeb3.setZombiePrice(this.state.zombiePrice).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputZombiePrice(event){\r\n        this.setState({\r\n            zombiePrice:event.target.value\r\n        })\r\n    }\r\n\r\n\r\n    render() { \r\n        if(window.defaultAccount === this.state.contractOwner){\r\n            return ( \r\n                <div className='contract-admin'>\r\n                    <dl>\r\n                        <dt>合约地址</dt>\r\n                        <dd className='lowcase'>{this.state.contractAddress}</dd>\r\n                        <dt>管理员</dt>\r\n                        <dd className='lowcase'>{this.state.contractOwner}</dd>\r\n                        <dt>合约名称</dt>\r\n                        <dd>{this.state.ContractName}</dd>\r\n                        <dt>合约标识</dt>\r\n                        <dd>{this.state.ContractSymbol}</dd>\r\n                        <dt>合约余额</dt>\r\n                        <dd>\r\n                            {this.state.ContractBalance}\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.withdraw}>\r\n                                <span>\r\n                                    提款\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>对战胜率</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='attackVictoryProbability'\r\n                                value={this.state.attackVictoryProbability}\r\n                                onChange={this.inputAttackVictoryProbability}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setAttackVictoryProbability}>\r\n                                <span>\r\n                                    设置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>升级费</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='levelUpFee'\r\n                                value={this.state.levelUpFee}\r\n                                onChange={this.inputLevelUpFee}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setLevelUpFee}>\r\n                                <span>\r\n                                    设置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>最低售价</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='minPrice'\r\n                                value={this.state.minPrice}\r\n                                onChange={this.inputMinPrice}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setMinPrice}>\r\n                                <span>\r\n                                    设置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>税金</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='tax'\r\n                                value={this.state.tax}\r\n                                onChange={this.inputTax}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setTax}>\r\n                                <span>\r\n                                    设置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>僵尸售价</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='zombiePrice'\r\n                                value={this.state.zombiePrice}\r\n                                onChange={this.inputZombiePrice}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setZombiePrice}>\r\n                                <span>\r\n                                    设置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                    </dl>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <div></div>\r\n            )\r\n        }\r\n    }\r\n}\r\n \r\nexport default ContractAdmin;","import React,{Component,Fragment} from 'react'\nimport '../public/App.css'\nimport  ZombieArmy  from \"./ZombieArmy\"\nimport  MyZombie  from \"./MyZombie\"\nimport  ZombieMarket  from \"./ZombieMarket\"\nimport  ZombieSimulator  from \"./ZombieSimulator\"\nimport ZombieDetail from \"./ZombieDetail\";\nimport ZombieAttack from \"./ZombieAttack\";\nimport ContractAdmin from \"./ContractAdmin\";\nimport MyWeb3 from './MyWeb3'\nimport {\n    BrowserRouter as \n    Router,\n    Route,\n    Link,\n    BrowserRouter\n  } from \"react-router-dom\"\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        const _pathname = window.location.pathname.split('/')\n        const pathname = '/'+_pathname[_pathname.length-2]\n        this.state = { AdminArea:()=>{return(<Fragment></Fragment>)},pathname:pathname }\n    }\n    \n    componentDidMount(){\n        let that = this\n        let ethereum = window.ethereum\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\n            MyWeb3.init().then(function(res){\n                MyWeb3.owner().then(function (owner) {\n                    if(window.defaultAccount === owner){\n                        that.setState({\n                            AdminArea:()=>{\n                                return(\n                                    <li>\n                                        <button className=\"start-admin-btn\">\n                                            <span><Link to=\"/ContractAdmin\">合约管理</Link></span>\n                                        </button>\n                                    </li>\n                                )\n                            }\n                        })\n                    }\n                })\n                \n            })\n        }else {\n            alert('You have to install MetaMask !')\n        }\n    }\n    \n    render() { \n        console.log(this.state)\n        let AdminArea = this.state.AdminArea\n        return (\n            <Fragment>\n                <Router>\n                    <BrowserRouter basename={this.state.pathname}>\n                        <section className=\"zombies-hero no-webp block app-block-intro pt-5 pb-0\">\n                            <div className=\"container\">\n                                <div className=\"menu\">\n                                    <ul>\n                                        <li>\n                                            <button className=\"start-course-btn\">\n                                                <span><Link to=\"/\">僵尸军团</Link></span>\n                                            </button>\n                                        </li>\n                                        <li>\n                                            <button className=\"start-course-btn\">\n                                                <span><Link to=\"/MyZombie\">我的僵尸</Link></span>\n                                            </button>\n                                        </li>\n                                        <li>\n                                            <button className=\"start-course-btn\">\n                                                <span><Link to=\"/ZombieMarket\">僵尸市场</Link></span>\n                                            </button>\n                                        </li>\n                                        <li>\n                                            <button className=\"start-course-btn\">\n                                                <span><Link to=\"/ZombieSimulator\">基因模拟</Link></span>\n                                            </button>\n                                        </li>\n                                        <AdminArea></AdminArea>\n                                    </ul>\n                                </div>\n                            </div>\n                        </section>\n                        <section className=\"zombie-container block bg-walls no-webp\">\n                            <div className=\"container\">\n                                <div className=\"area\">\n                                    <Route exact path=\"/\" component={ZombieArmy}></Route>\n                                    <Route path=\"/MyZombie\" component={MyZombie}></Route>\n                                    <Route path=\"/ZombieMarket\" component={ZombieMarket}></Route>\n                                    <Route path=\"/ZombieSimulator\" component={ZombieSimulator}></Route>\n                                    <Route path=\"/ZombieDetail\" component={ZombieDetail}></Route>\n                                    <Route path=\"/ZombieAttack\" component={ZombieAttack}></Route>\n                                    <Route path=\"/ContractAdmin\" component={ContractAdmin}></Route>\n                                </div>\n                            </div>\n                        </section>\n                    </BrowserRouter>\n                </Router>\n            </Fragment>\n            );\n    }\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '../public/Index.css'\nimport  App  from './App';\nrequire('events').EventEmitter.prototype._maxListeners = 100;\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}